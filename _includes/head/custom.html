<!-- custom.html -->
<!-- Dynamic Favicon and Manifest for Dark/Light Mode -->

<!-- Default Favicon -->
<link
  rel="icon"
  id="favicon"
  type="image/png"
  href="/assets/icon/white-favicon/favicon-32x32.png"
/>

<!-- JavaScript for Dynamic Favicon and Manifest -->
<script>
  function updateThemeAssets() {
    // Update Favicon
    const favicon = document.getElementById("favicon");
    if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
      // Dark mode favicon
      favicon.href = "/assets/icon/dark-favicon/favicon-32x32.png";
    } else {
      // Light mode favicon
      favicon.href = "/assets/icon/white-favicon/favicon-32x32.png";
    }

    // Update Manifest
    const oldManifest = document.querySelector("link[rel='manifest']");
    if (oldManifest) oldManifest.parentNode.removeChild(oldManifest);

    const manifest = document.createElement("link");
    manifest.rel = "manifest";
    manifest.href = window.matchMedia("(prefers-color-scheme: dark)").matches
      ? "/assets/icon/dark-favicon/manifest.json"
      : "/assets/icon/white-favicon/manifest.json";
    document.head.appendChild(manifest);
  }

  // Initial setup
  updateThemeAssets();

  // Listen for theme changes
  window
    .matchMedia("(prefers-color-scheme: dark)")
    .addEventListener("change", updateThemeAssets);
</script>
